# Timer
Disclaimer: the below code snippets only consist of React/Typescript and CSS. You will need to integrate 
ReactGenie yourself for this to be fully functional.

Before we get started, here's the file heirarchy for UI code:
```
--src
----commonStyles.ts
----NewTimerForm.tsx
----TimerItem.tsx
----TimerView.tsx
--App.tsx
```

#### commonStyles.ts
Copy the below styles into new file `src/commonStyles.ts`

<details>
  <summary> commonStyles.ts </summary>
  ```js copy
import {StyleSheet} from "react-native";

const font = {
    fontFamily: 'Tahoma',
    letterSpacing: 1.3,
}

export const textStyles = StyleSheet.create({
    heading: {
        ...font,
        letterSpacing: 1.3,
        color: 'white',
        fontSize: 50,
        fontWeight: '600',
    },
    heading2: {
        ...font,
        color: '#074057',
        fontWeight: '600',
        fontSize: 35,
    },
    heading3: {
        ...font,
        color: '#074057',
        fontWeight: '600',
        fontSize: 35,
    },
    label: {
        ...font,
        color: 'white',
        marginTop: 20,
        marginBottom: 10,
    },
    text: {
        ...font,
        fontSize: 16,
        color: '#455055',
    },
    subtitle: {
        ...font,
    }
})

export const commonStyles = StyleSheet.create({
    // Containers
    appContainer: {
        backgroundColor: '#0b3f55',
        paddingLeft: '10%',
        paddingRight: '10%',
        minHeight: '100%',
    },
    mainContainer: {
        flex: 1,
        paddingLeft: '10%',
        paddingRight: '10%',
    },
    timerViewContainer: {
        marginTop: 20,
        marginBottom: 20,
    },
    timerItemContainer: {
        flex: 1,
        width: '100%',
        marginTop: 20,
        padding: 20,
        borderRadius: 6,
        backgroundColor: '#e7f9ff',
        textAlignVertical: 'center',
    },
    timerFormContainer: {
        textAlign: 'center',
        height: '100%',
        width: '100%',
        alignItems: 'center',
        justifyContent: 'center',
        display: 'flex',
        flexDirection: 'column',
    },
    sectionContainer: {
        display: 'flex',
        flexDirection: 'column',
        alignItems: 'flex-start',
        marginBottom: 20,
        width: '100%',
    },
    // Common Elements
    button: {
        width: '100%',
        padding: 10,
        border: 'none',
        cursor: 'pointer',
        backgroundColor: '#5a8ca1',
        color: '#e6f8fe',
        fontWeight: 'bold',
        fontSize: "28px",
        borderRadius: 6,
        marginTop: 20,
        ...font
    },
    inline: {
        flex: 2,
        width: '100%',
        justifyContent: 'space-between',
        height: '100%',
        flexDirection: 'row',
        marginBottom: 10,
    },
    // Add New Timer Form
    numericInputContainer: {
        alignItems: 'center',
        justifyContent: 'center',
    },
    numericInput: {
        ...textStyles.heading,
        padding: 10,
        margin: 2,
        border: 'none',
        textAlign: 'center',
        backgroundColor: 'transparent',
    },
    textInput: {
        ...textStyles.text,
        padding: 15,
        border: 'none',
        width: 'calc(100% - 30px)',
        backgroundColor: '#c7f1ff',
        borderRadius: 6,
    },
});
```
</details>

### NewTimerForm.tsx
Use the below UI to build the New Timer Form in `src/NewTimerForm.tsx`
<details>
  <summary> NewTimerForm.tsx </summary>
```js copy
import { AppNavigator } from '../App';
import React, { useState } from 'react';
import { textStyles, commonStyles } from './commonStyles';


const NewTimerFormImpl = (props: {id: string}) => {
     // Your genie code here

    return (
        <div style={commonStyles.appContainer}>
            <div style={commonStyles.timerFormContainer}>

                <div style={commonStyles.numericInputContainer}>
                    <input style={commonStyles.numericInput} type='number' min={0} max={60} value={/*your code*/} onChange={(e) => {/*use e.target.value to get value*/}}/>
                    <label style={textStyles.heading}> : </label>
                    <input style={commonStyles.numericInput}  type='number' min={0} max={60} value={/*your code*/}  onChange={(e) => {/*your code*/}} />
                    <label style={textStyles.heading}> : </label>
                    <input style={commonStyles.numericInput}  type='number' min={0} max={60} value={/*your code*/}  onChange={(e) => {/*your code*/}} />
                </div>

                <div style={commonStyles.sectionContainer}>
                    <label style={textStyles.label}>Title </label>
                    <input style={commonStyles.textInput} type='text' size={20} value={/*your code*/} onChange={(e)=> {/*your code*/}} ></input>
                    <label style={textStyles.label}>Description </label>
                    <input style={commonStyles.textInput} type='text' size={20} value={/*your code*/} onChange={(e)=> {/*your code*/}} ></input>
                </div>

                <button style={commonStyles.button} onClick={/*Do Something*/}>Back</button>
                <button style={commonStyles.button} onClick={/*Do Something*/}>Add Timer</button>

            </div>
        </div>
    );
};

export const NewTimerForm = //ADD YOUR CODE HERE

```
</details>

### TimerItem.tsx
TimerItem is an item in TimerList.
<details>
<summary> TimerItem.tsx </summary>
```js copy
import {AppNavigator} from "../App";
import React, {useEffect, useState} from "react";
import {Pressable, Text, View} from "react-native";
import { commonStyles, textStyles } from './commonStyles';

const TimerItemImpl = (props: {id: string}) => {
    const [actionButtonText, setActionButtonText] = useState("Start");
     // Your genie code here

    useEffect(() => {
        // If the timer is 0, we don't need to decrease it further
        // Your code here

        const intervalId = setInterval(() => {
            // Your code here
            // Will be executed every 1000ms
        }, 1000);

        // Cleanup function to clear the setInterval when timer stop/unmount
        return () => clearInterval(intervalId);
    }, [// Your code here
        ]);
   
    return (
        <View style={commonStyles.timerItemContainer}>

            <Pressable onPress={() => {AppNavigator.push('TimerModal', {id: props.id})}}>
                <View style={commonStyles.inline}>
                    <Text style={textStyles.heading2}> // Your code here</Text>
                    <Text style={textStyles.heading3}> // Your code here </Text>
                </View>
                <View style={commonStyles.inline}>
                    <Text style={textStyles.text}> // Your code here </Text>
                    <Text style={textStyles.text}> // Your code here </Text>
                </View>
            </Pressable>

            <button style={commonStyles.button} onClick={/*Your code here*/}>{actionButtonText}</button>
        </View>
    );
};

export const TimerItem = // Your code here

```
</details>

### TimerView.tsx
<details>
<summary> TimerView.tsx </summary>
```js copy
import React from "react";
import {AppNavigator} from "../App";
import {Timer} from "../genie/Timer";
import {View} from "react-native";
import {useGenieSelector, genieDispatch} from "reactgenie-lib";
import { commonStyles } from "./commonStyles";
import { TimerItem } from "./TimerItem";

export const TimerViewImp = (props: { elements: { id: string }[]}) => {

    return (
        <View style={commonStyles.appContainer}>
            <View>
            <div style={commonStyles.timerViewContainer}>
                <button style={commonStyles.button} onClick={() => 
                
                // Your code here
                
            }>Add New Timer</button>
            </div>
            {
                props.elements.map((element) => {
                        return <TimerItem id={element.id} key={element.id}/>
                })
            }
            </View>
        </View>
    )
}

export const TimerView = // Your code here

```
</details>

You can use `AppNavigator.push('TimerModal', {id: timer.id})` to open the timer modal when `Add New Timer` button is clicked.

### App.tsx
<details>
<summary> App.tsx </summary>
```js
import React, { default as ReactFromImport } from "react";
import { default as ReactReduxFromImport, Provider } from "react-redux";
import { NativeStackScreenProps } from "@react-navigation/native-stack";
import { StackNavigationOptions } from "@react-navigation/stack/lib/typescript/src/types";
import { CardStyleInterpolators, createStackNavigator, HeaderStyleInterpolators } from '@react-navigation/stack';

import ENV from "./config";
import { reactGenieStore } from "./store";

import { TimerView } from "./src/TimerView";
import { NewTimerForm } from "./src/NewTimerForm";


console.log("React is ReactFromModule", ReactFromModule === ReactFromImport);
console.log(
  "ReactRedux is ReactReduxFromModule: ",
  ReactReduxFromImport === ReactReduxFromModule
);

export let AppNavigator: any = null;

type Props = NativeStackScreenProps<any, any>

const TimerTab = ({route, navigation}: Props) => {
    AppNavigator = navigation
    const elements; // Your code
    return (
        <TimerView elements={elements}/>
    )
}

const TimerModalTab = ({route, navigation}: Props) => {
    AppNavigator = navigation
    return (
          <NewTimerForm {...route.params}/>
    )
}

const cardStyle: StackNavigationOptions = {
    presentation: 'card' ,
    animationEnabled: true,
    headerStyleInterpolator: HeaderStyleInterpolators.forUIKit,
    cardStyleInterpolator: CardStyleInterpolators.forHorizontalIOS
}

const modalStyle: StackNavigationOptions = {
    presentation: 'modal' ,
    animationEnabled: true,
    headerStyleInterpolator: HeaderStyleInterpolators.forUIKit,
    cardStyleInterpolator: CardStyleInterpolators.forModalPresentationIOS,
    headerShown: false,
    animationTypeForReplace: 'pop',
}

const App = () => {
    let TimerStack = () => {
        let TimerNavigator = createStackNavigator();
        return (
            <TimerNavigator.Navigator screenOptions={{
                headerShown: true
            }}>
                <TimerNavigator.Screen name="Timers" component={TimerTab} options={cardStyle}/>
                <TimerNavigator.Screen name="TimerModal" component={TimerModalTab} options={modalStyle}  />
            
            </TimerNavigator.Navigator >
        );
    }

  return (
    // Your code here
          <TimerStack/>
    // Your code here
  );
};

export default App;
```
</details>